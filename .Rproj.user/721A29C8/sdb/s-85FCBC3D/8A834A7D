{
    "collab_server" : "",
    "contents" : "\n# Daily punctuality - Departures\n\n\nColumn {.sidebar}\n-----------------------------------------------------------------------\n\nSelect period, operators and terminals below :\n\n\n```{r Year selection}\n\n      selectInput(\"Year_dep\", label = \"Year:\",\n                        choices = c(2015,2016,2017), selected = 2016)\n\n\n```\n\n```{r Month selection}\n\n\n  \n      selectInput(\"Month_dep\", label = \"Month:\",\n                  choices = c(\"January\", \"February\", \"March\",\n                              \"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"), selected = \"January\")\n\n```\n\n```{r Operator selection}\n\n\n\n  selectInput(\"Operator_dep\", label = \"Airline:\",\n                  choices = Operator_list , selected = 1)\n\n\n  #selectizeInput(\"Operator\", \"Operator\", Operator_list, selected = \"Iberia\", multiple = FALSE,\n   #            options = NULL)\n     \n```\n\n```{r Terminal selection}\n\n\n  selectizeInput(\"Terminal_dep\", \"Terminal\", c(2,3,4,5), selected = c(2,3,4,5), multiple = TRUE,\n               options = NULL)\n    \n    \n```\n\n```{r Apply filter / reset deps}\n\n  actionButton(\"go_dep\", \"Apply filters\",icon(\"paper-plane\"), \n    style=\"color: #fff; background-color: #337ab7; border-color: #2e6da4\")\n\n\n```\n\n\n\n```{r Preparing and splitting  data - Init,echo=FALSE,message=FALSE,warning=FALSE,results='hide'}\n#Create the dataset for plotting\n# Preparing the data - deps\n\n  library(dplyr)\n  library(lubridate)\n  \n  source(\"./Data import scripts/dep_ex.R\")\n  \n  #punc_mth_dep <- read.csv(\"C:/Users/WSAdmin/shiny-server-on-ubuntu/apps/dep.csv\",header = TRUE)\n\n  \n  colnames(punc_mth_dep)[1] <- \"MovementDateTime\"\n  punc_mth_dep$Date.Time <- paste(punc_mth_dep$ScheduledDate,\"-\",punc_mth_dep$DepHour)\n  punc_mth_dep$Date.Time <- as.POSIXct(strptime(punc_mth_dep$Date.Time,format = \"%Y-%m-%d - %H\"))\n  punc_mth_chart_dep <- select(punc_mth_dep,Date.Time,IsPunctual,ScheduledDwName,WEEK_OF_MONTH,ScheduledMonthName,Operator,Terminal,CheckCount,ScheduledYear)\n  \n  punc_mth_chart_dep <- subset(punc_mth_chart_dep,!is.na(Date.Time))\n  punc_mth_chart_dep$WEEK_OF_MONTH <- ifelse(punc_mth_chart_dep$ScheduledDwName == \"Sunday\" & punc_mth_chart_dep$WEEK_OF_MONTH >1,\n                                             punc_mth_chart_dep$WEEK_OF_MONTH-1,\n                                             punc_mth_chart_dep$WEEK_OF_MONTH)\n                                             \n\n\n\n  #create empty xts\n  null_xts <- filter(punc_mth_chart_dep,WEEK_OF_MONTH == 2,ScheduledDwName == \"Monday\",ScheduledMonthName == \"January\")\n  null_xts$TotalATMMovements <- 0\n  null_xts$PercentPunctual <- 0\n  \n```\n  \nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 1 }\n\n\ncreate_render_dep_chart(\"Monday\",1)\n\n```\n\n\n\n> `r get_comment(1,\"Monday\") `\n\n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 1 }\n\n\ncreate_render_dep_chart(\"Tuesday\",1)\n\n\n```\n\n> `r get_comment(1,\"Tuesday\")`\n\n### Wednesday\n\n\n```{r Wednesday - Week 1 }\n\n\ncreate_render_dep_chart(\"Wednesday\",1)\n\n\n```\n\n> `r get_comment(1,\"Wednesday\") `\n\n### Thursday\n\n\n```{r Thursday - Week 1 }\n\n\ncreate_render_dep_chart(\"Thursday\",1)\n\n\n```\n\n> `r get_comment(1,\"Thursday\") `\n\n\n### Friday\n\n\n```{r Friday - Week 1 }\n\n\ncreate_render_dep_chart(\"Friday\",1)\n\n\n```\n\n> `r get_comment(1,\"Friday\") `\n\n### Saturday\n\n\n```{r Saturday - Week 1 }\n\n\ncreate_render_dep_chart(\"Saturday\",1)\n\n\n```\n\n> `r get_comment(1,\"Saturday\") `\n\n\n### Sunday\n\n\n```{r Sunday - Week 1 }\n\n\ncreate_render_dep_chart(\"Sunday\",1)\n\n\n```\n\n> `r get_comment(1,\"Sunday\") `\n\n\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 1)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 1)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 1)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 1)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 1)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 1)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 1)\n\n\n```\n\n\n\n\n\n\n\nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 2 }\n\n\ncreate_render_dep_chart(\"Monday\",2)\n\n\n```\n\n> `r get_comment(1,\"Tuesday\") `\n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 2 }\n\n\ncreate_render_dep_chart(\"Tuesday\",2)\n\n\n```\n\n> `r get_comment(2,\"Tuesday\") `\n\n### Wednesday\n\n\n```{r Wednesday - Week 2 }\n\n\ncreate_render_dep_chart(\"Wednesday\",2)\n\n\n```\n\n> `r get_comment(2,\"Wednesday\") `\n\n### Thursday\n\n\n```{r Thursday - Week 2 }\n\n\ncreate_render_dep_chart(\"Thursday\",2)\n\n\n```\n\n> `r get_comment(2,\"Thursday\")`\n\n\n### Friday\n\n\n```{r Friday - Week 2 }\n\n\ncreate_render_dep_chart(\"Friday\",2)\n\n\n```\n\n> `r get_comment(2,\"Friday\")`\n\n### Saturday\n\n\n```{r Saturday - Week 2 }\n\n\ncreate_render_dep_chart(\"Saturday\",2)\n\n\n```\n\n> `r get_comment(2,\"Saturday\")`\n\n\n### Sunday\n\n\n```{r Sunday - Week 2 }\n\n\ncreate_render_dep_chart(\"Sunday\",2)\n\n\n```\n\n> `r get_comment(2,\"Sunday\")`\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 2)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 2)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 2)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 2)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 2)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 2)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 2)\n\n\n```\n\n\n\n\n\n\n\n\n\nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 3 }\n\n\ncreate_render_dep_chart(\"Monday\",3)\n\n\n```\n\n> `r get_comment(3,\"Monday\")`\n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 3 }\n\n\ncreate_render_dep_chart(\"Tuesday\",3)\n\n\n```\n\n> `r get_comment(3,\"Tuesday\")`\n\n### Wednesday\n\n\n```{r Wednesday - Week 3 }\n\n\ncreate_render_dep_chart(\"Wednesday\",3)\n\n\n```\n\n> `r get_comment(3,\"Wednesday\")`\n\n### Thursday\n\n\n```{r Thursday - Week 3 }\n\n\ncreate_render_dep_chart(\"Thursday\",3)\n\n\n```\n\n> `r get_comment(3,\"Thursday\")`\n\n\n### Friday\n\n\n```{r Friday - Week 3 }\n\n\ncreate_render_dep_chart(\"Friday\",3)\n\n\n```\n\n> `r get_comment(3,\"Friday\")`\n\n### Saturday\n\n\n```{r Saturday - Week 3 }\n\n\ncreate_render_dep_chart(\"Saturday\",3)\n\n\n```\n\n> `r get_comment(3,\"Saturday\")`\n\n\n### Sunday\n\n\n```{r Sunday - Week 3 }\n\n\ncreate_render_dep_chart(\"Sunday\",3)\n\n\n```\n\n> `r get_comment(3,\"Sunday\")`\n\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 3)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 3)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 3)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 3)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 3)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 3)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 3)\n\n\n```\n\n\n\n\n\n\nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 4 }\n\n\ncreate_render_dep_chart(\"Monday\",4)\n\n\n```\n\n> `r get_comment(4,\"Monday\")`\n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 4 }\n\n\ncreate_render_dep_chart(\"Tuesday\",4)\n\n\n```\n\n> `r get_comment(4,\"Tuesday\")`\n\n### Wednesday\n\n\n```{r Wednesday - Week 4 }\n\n\ncreate_render_dep_chart(\"Wednesday\",4)\n\n\n```\n\n> `r get_comment(4,\"Wednesday\")`\n\n### Thursday\n\n\n```{r Thursday - Week 4 }\n\n\ncreate_render_dep_chart(\"Thursday\",4)\n\n\n```\n\n> `r get_comment(4,\"Thursday\")`\n\n\n### Friday\n\n\n```{r Friday - Week 4 }\n\n\ncreate_render_dep_chart(\"Friday\",4)\n\n\n```\n\n> `r get_comment(4,\"Friday\")`\n\n### Saturday\n\n\n```{r Saturday - Week 4 }\n\n\ncreate_render_dep_chart(\"Saturday\",4)\n\n\n```\n\n> `r get_comment(4,\"Saturday\")`\n\n\n### Sunday\n\n\n```{r Sunday - Week 4 }\n\n\ncreate_render_dep_chart(\"Sunday\",4)\n\n\n```\n\n> `r get_comment(4,\"Sunday\")`\n\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 4)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 4)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 4)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 4)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 4)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 4)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 4)\n\n\n```\n\n\n\n\n\nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 5 }\n\n\ncreate_render_dep_chart(\"Monday\",5)\n\n\n```\n\n> `r get_comment(5,\"Monday\")`\n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 5 }\n\n\ncreate_render_dep_chart(\"Tuesday\",5)\n\n\n```\n\n> `r get_comment(5,\"Tuesday\")`\n\n### Wednesday\n\n\n```{r Wednesday - Week 5 }\n\n\ncreate_render_dep_chart(\"Wednesday\",5)\n\n\n```\n\n> `r get_comment(5,\"Wednesday\")`\n\n### Thursday\n\n\n```{r Thursday - Week 5 }\n\n\ncreate_render_dep_chart(\"Thursday\",5)\n\n\n```\n\n> `r get_comment(5,\"Thursday\")`\n\n\n### Friday\n\n\n```{r Friday - Week 5 }\n\n\ncreate_render_dep_chart(\"Friday\",5)\n\n\n```\n\n> `r get_comment(5,\"Friday\")`\n\n### Saturday\n\n\n```{r Saturday - Week 5 }\n\n\ncreate_render_dep_chart(\"Saturday\",5)\n\n```\n\n> `r get_comment(5,\"Saturday\")`\n\n\n### Sunday\n\n\n```{r Sunday - Week 5 }\n\n\ncreate_render_dep_chart(\"Sunday\",5)\n\n\n```\n\n> `r get_comment(5,\"Sunday\")`\n\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 5)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 5)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 5)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 5)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 5)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 5)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 5)\n\n\n```\n\n\n\nColumn   {.tabset}\n-----------------------------------------------------------------------\n\n### Monday\n\n\n```{r Monday - Week 6 }\n\n\ncreate_render_dep_chart(\"Monday\",6)\n\n\n```\n\n> Notes Monday Week 6 \n\n\n\n### Tuesday\n\n\n```{r Tuesday - Week 6 }\n\n\ncreate_render_dep_chart(\"Tuesday\",6)\n\n\n```\n\n> Notes Tuesday Week 6 \n\n### Wednesday\n\n\n```{r Wednesday - Week 6 }\n\n\ncreate_render_dep_chart(\"Wednesday\",6)\n\n\n```\n\n> Notes Wednesday Week 6 \n\n### Thursday\n\n\n```{r Thursday - Week 6 }\n\n\ncreate_render_dep_chart(\"Thursday\",6)\n\n\n```\n\n> Notes Thursday Week 6 \n\n\n### Friday\n\n\n```{r Friday - Week 6 }\n\n\ncreate_render_dep_chart(\"Friday\",6)\n\n\n```\n\n> Notes Friday Week 6 \n\n### Saturday\n\n\n```{r Saturday - Week 6 }\n\n\ncreate_render_dep_chart(\"Saturday\",6)\n\n\n```\n\n> Notes Saturday Week 6 \n\n\n### Sunday\n\n\n```{r Sunday - Week 6 }\n\n\ncreate_render_dep_chart(\"Sunday\",6)\n\n\n```\n\n> Notes Sunday Week 6 \n\n\n\nRow\n-----------------------------------------------------------------------\n\n### Monday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Monday\",vb_week = 6)\n\n```\n\n### Tuesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Tuesday\",vb_week = 6)\n\n\n```\n\n### Wednesday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Wednesday\",vb_week = 6)\n\n\n```\n\n### Thursday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Thursday\",vb_week = 6)\n\n\n```\n\n### Friday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Friday\",vb_week = 6)\n\n\n```\n\n### Saturday\n\n```{r}\n\nrender_value_box_deps(vb_day = \"Saturday\",vb_week = 6)\n\n\n```\n\n### Sunday\n\n```{r}\n\n\nrender_value_box_deps(vb_day = \"Sunday\",vb_week = 6)\n\n\n```\n\n\n\n\n\n\n\n\n\n\n",
    "created" : 1506009032446.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3412845853",
    "id" : "8A834A7D",
    "lastKnownWriteTime" : 1490280861,
    "last_content_update" : 1490280861,
    "path" : "~/Dropbox/HAL/Dashboard_project/Dashboard_deps.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}